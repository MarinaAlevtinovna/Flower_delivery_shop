# üå∏ Flower Delivery Shop

Flower Delivery Shop ‚Äî —ç—Ç–æ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ Django, –ø–æ–∑–≤–æ–ª—è—é—â–µ–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –∑–∞–∫–∞–∑—ã–≤–∞—Ç—å —Ü–≤–µ—Ç—ã –æ–Ω–ª–∞–π–Ω. 
–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∫–æ—Ä–∑–∏–Ω—É –ø–æ–∫—É–ø–æ–∫, –ø—Ä–æ—Ü–µ—Å—Å –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞ –∏ **—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ Telegram** —á–µ—Ä–µ–∑ **Celery + Redis**.

---

## üìå –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
1. **–ö–ª–æ–Ω–∏—Ä—É–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:**
    ```bash
    git clone https://github.com/yourusername/flower-delivery-shop.git
    ```
2. **–ü–µ—Ä–µ—Ö–æ–¥–∏–º –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞:**
    ```bash
    cd flower-delivery-shop
    ```
3. **–°–æ–∑–¥–∞–µ–º –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:**
    ```bash
    python -m venv venv
    ```
4. **–ê–∫—Ç–∏–≤–∏—Ä—É–µ–º –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:**
    - –î–ª—è Windows:
        ```bash
        .env\Scriptsctivate
        ```
    - –î–ª—è MacOS/Linux:
        ```bash
        source venv/bin/activate
        ```
5. **–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
    ```bash
    pip install -r requirements.txt
    ```
6. **–ó–∞–ø—É—Å–∫–∞–µ–º –º–∏–≥—Ä–∞—Ü–∏–∏:**
    ```bash
    python manage.py migrate
    ```
7. **–ó–∞–ø—É—Å–∫–∞–µ–º —Å–µ—Ä–≤–µ—Ä Django:**
    ```bash
    python manage.py runserver
    ```
–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ —Å–∞–π—Ç –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ [http://127.0.0.1:8000](http://127.0.0.1:8000).

---

## üîπ –ó–∞–ø—É—Å–∫ Redis
Redis –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ –±—Ä–æ–∫–µ—Ä –∑–∞–¥–∞—á –¥–ª—è Celery.  
–ï—Å–ª–∏ —É —Ç–µ–±—è Windows:
1. **–ü–µ—Ä–µ–π–¥–∏ –≤ –ø–∞–ø–∫—É Redis**  
   ```bash
   cd C:\Users\myssy\Redis
   ```
2. **–ó–∞–ø—É—Å—Ç–∏ —Å–µ—Ä–≤–µ—Ä**:
   ```bash
   .\redis-server.exe
   ```

–ï—Å–ª–∏ —Ç—ã –∏—Å–ø–æ–ª—å–∑—É–µ—à—å **Linux/Mac**, –ø—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å—Ç–∏:
```bash
redis-server
```

---

## ‚öôÔ∏è –ó–∞–ø—É—Å–∫ Celery
Celery –Ω—É–∂–µ–Ω –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ñ–æ–Ω–æ–≤—ã—Ö –∑–∞–¥–∞—á –∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π.

1. **–ó–∞–ø—É—Å—Ç–∏ Redis (–µ—Å–ª–∏ –µ—â–µ –Ω–µ –∑–∞–ø—É—â–µ–Ω).**
2. **–û—Ç–∫—Ä–æ–π –Ω–æ–≤—ã–π —Ç–µ—Ä–º–∏–Ω–∞–ª, –∞–∫—Ç–∏–≤–∏—Ä—É–π –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:**
    ```bash
    .env\Scriptsctivate
    ```
3. **–ó–∞–ø—É—Å—Ç–∏ Celery (–±–µ–∑ `prefork`, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –æ—à–∏–±–æ–∫ –Ω–∞ Windows):**
    ```bash
    celery -A flower_delivery worker --loglevel=info --pool=solo
    ```

---

## üì© –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ Telegram
–ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–∫–∞–∑–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ** –≤ Telegram.

- **–ë–æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `aiogram`**, –∏ –µ–≥–æ —Å–µ—Å—Å–∏—è —Ç–µ–ø–µ—Ä—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è.
- **–ï—Å–ª–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç**, –ø—Ä–æ–≤–µ—Ä—å:
  - **Celery –∑–∞–ø—É—â–µ–Ω?**
  - **Redis —Ä–∞–±–æ—Ç–∞–µ—Ç? (`redis-cli PING` ‚Üí `PONG`)**
  - **–ë–æ—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ –∏–º–µ–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ç–æ–∫–µ–Ω?**

---

## üõ† –í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏ –∏ –∏—Ö —Ä–µ—à–µ–Ω–∏—è
### ‚ùå `Unclosed client session`
**–†–µ—à–µ–Ω–∏–µ:** –í `send_message()` —É–±–µ–¥–∏—Å—å, —á—Ç–æ –ø–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ –±–æ—Ç –∑–∞–∫—Ä—ã–≤–∞–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ:
```python
finally:
    await bot.session.close()
```

### ‚ùå `PermissionError(13, '–û—Ç–∫–∞–∑–∞–Ω–æ –≤ –¥–æ—Å—Ç—É–ø–µ')` –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ Celery
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –∑–∞–≤–µ—Ä—à–∏ –ø—Ä–æ—Ü–µ—Å—Å—ã Celery:
```bash
taskkill /F /IM celery.exe
```

### ‚ùå `No module named 'django'`
**–†–µ—à–µ–Ω–∏–µ:** –£–±–µ–¥–∏—Å—å, —á—Ç–æ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–æ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Django:
```bash
.env\Scriptsctivate
pip install django
```

---

## ‚ú® –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∏ —Ä–∞–∑–≤–∏—Ç–∏–µ
–ï—Å–ª–∏ —É —Ç–µ–±—è –µ—Å—Ç—å –∏–¥–µ–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é, —Å–æ–∑–¥–∞–≤–∞–π Pull Request –∏–ª–∏ Issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏. üòä
